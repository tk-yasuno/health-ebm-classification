# ğŸš€ HealthLevelåˆ†é¡MVP - Quick Start Guide

## âš¡ 5åˆ†ã§å§‹ã‚ã‚‹æ©‹æ¢è¨ºæ–­AI

### ğŸ“‹ å‰ææ¡ä»¶
- Python 3.11ä»¥ä¸Š
- ä»®æƒ³ç’°å¢ƒ(.venv)ãŒè¨­å®šæ¸ˆã¿
- CSVãƒ‡ãƒ¼ã‚¿ãŒ`1_inspection-dataset/`ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®æ¸ˆã¿

---

## ğŸ”§ Step 1: ç’°å¢ƒæº–å‚™ï¼ˆ1åˆ†ï¼‰

```powershell
# ä»®æƒ³ç’°å¢ƒã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
.\.venv\Scripts\Activate.ps1

# ä¾å­˜é–¢ä¿‚ç¢ºèªï¼ˆå¿…è¦ã«å¿œã˜ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼‰
pip install pandas numpy scikit-learn lightgbm xgboost catboost interpret janome
```

## ğŸš€ Step 2: ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆ3åˆ†ï¼‰

```powershell
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‹ã‚‰å®Ÿè¡Œ
cd src
python main_pipeline.py
```

**ã“ã‚Œã ã‘ã§å®Œå…¨ãªMLãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼**

---

## ğŸ“Š Step 3: çµæœç¢ºèªï¼ˆ1åˆ†ï¼‰

å®Ÿè¡Œå®Œäº†å¾Œã€ä»¥ä¸‹ã®çµæœãŒè‡ªå‹•è¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

### **æœ€é«˜æ€§èƒ½ãƒ¢ãƒ‡ãƒ«**
```
Best model: Explainable Boosting Machine
Validation F1-macro: 73.61%
Test Accuracy: 84.34%
```

### **ã‚¯ãƒ©ã‚¹åˆ¥æ€§èƒ½**
```
Classification Report:
              precision    recall  f1-score   support
å¥å…¨(â… )          0.86      0.86      0.86        29
äºˆé˜²ä¿å…¨(â…¡)      0.85      0.92      0.88        48
ä¿®ç¹•è¦(III+)     0.50      0.17      0.25         6
```

---

## ğŸ¯ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå®Ÿè¡Œ

### **ç‰¹å®šãƒ¢ãƒ‡ãƒ«ã®ã¿å®Ÿè¡Œ**
```python
from model_trainer import ModelTrainer

trainer = ModelTrainer()
# EBMã®ã¿å®Ÿè¡Œ
ebm_result = trainer.create_ebm_model(X_train, y_train, X_val, y_val)
```

### **ç‰¹å¾´é‡ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®ã¿**
```python
from feature_engineering import FeatureEngineer

engineer = FeatureEngineer()
features = engineer.create_features(data)
print(f"ç‰¹å¾´é‡æ•°: {features.shape[1]}")  # 1027æ¬¡å…ƒ
```

### **ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã®ã¿**
```python
from data_loader import BridgeDataLoader

loader = BridgeDataLoader()
data = loader.load_and_preprocess()
print(f"å‡¦ç†å¾Œã‚µãƒ³ãƒ—ãƒ«æ•°: {len(data)}")  # 276ã‚µãƒ³ãƒ—ãƒ«
```

---

## ğŸ” é‡è¦ãªãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² | å®Ÿè¡Œä¾‹ |
|---------|------|--------|
| `main_pipeline.py` | å®Œå…¨è‡ªå‹•å®Ÿè¡Œ | `python main_pipeline.py` |
| `data_loader.py` | ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ | å€‹åˆ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ä½¿ç”¨ |
| `feature_engineering.py` | ç‰¹å¾´é‡ç”Ÿæˆ | TF-IDF + å°‚é–€ç‰¹å¾´é‡ |
| `model_trainer.py` | MLè¨“ç·´ãƒ»è©•ä¾¡ | 7ç¨®é¡ã®ãƒ¢ãƒ‡ãƒ«å¯¾å¿œ |

---

## ğŸš¨ ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ³•

### **Q1: ModuleNotFoundError**
```powershell
# ä»®æƒ³ç’°å¢ƒãŒæ­£ã—ãã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
.\.venv\Scripts\Activate.ps1
pip list | grep -E "(pandas|scikit-learn|lightgbm)"
```

### **Q2: CSVãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
```
FileNotFoundError: [Errno 2] No such file or directory: '../1_inspection-dataset/v1_InspectionPeriod1.csv'
```
**è§£æ±º**: `src/`ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰å®Ÿè¡Œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
```powershell
cd src  # ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰å®Ÿè¡Œ
python main_pipeline.py
```

### **Q3: EBMã®å­¦ç¿’ã«æ™‚é–“ãŒã‹ã‹ã‚‹**
```
Training Explainable Boosting Machine...
```
**æ­£å¸¸**: EBMã¯5-10åˆ†ç¨‹åº¦è¦ã—ã¾ã™ã€‚ä»–ãƒ¢ãƒ‡ãƒ«ã¯å®Œäº†ã—ã¦ã„ã‚‹ã®ã§å¾…æ©Ÿã—ã¦ãã ã•ã„ã€‚

### **Q4: NaNå€¤ã‚¨ãƒ©ãƒ¼**
```
LogisticRegression does not accept missing values
```
**å¯¾å¿œæ¸ˆã¿**: v0.2ã§NaNå¯¾å¿œãƒ¢ãƒ‡ãƒ«ï¼ˆLightGBM, CatBoost, XGBoost, EBMï¼‰ã‚’å„ªå…ˆæ¡ç”¨

---

## ğŸ“ˆ æˆæœã®èª­ã¿æ–¹

### **ãƒ¢ãƒ‡ãƒ«é¸æŠåŸºæº–**
- **F1-macro**: å…¨ã‚¯ãƒ©ã‚¹ãƒãƒ©ãƒ³ã‚¹é‡è¦– â†’ **EBM: 73.61%**
- **ç²¾åº¦é‡è¦–**: å…¨ä½“çš„ãªæ­£è§£ç‡ â†’ **EBM: 86.60%**
- **è§£é‡ˆæ€§é‡è¦–**: åˆ¤å®šæ ¹æ‹ èª¬æ˜ â†’ **EBMæ¨å¥¨**

### **Repair-requirementæ€§èƒ½**
```
Precision: 50%  # ä¿®ç¹•è¦ã¨äºˆæ¸¬ã—ãŸã‚‚ã®ã®ã†ã¡æ­£è§£ã®å‰²åˆ
Recall: 17%     # å®Ÿéš›ã®ä¿®ç¹•è¦ã®ã†ã¡æ¤œå‡ºã§ããŸå‰²åˆ
F1: 25%         # ç·åˆè©•ä¾¡
```
**æ”¹å–„ã®ãƒã‚¤ãƒ³ãƒˆ**: ãƒ‡ãƒ¼ã‚¿è¿½åŠ ã€ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æ‰‹æ³•æ¤œè¨

---

## ğŸ”„ ç¶™ç¶šæ”¹å–„ã®ãƒ’ãƒ³ãƒˆ

### **æ€§èƒ½å‘ä¸Šç­–**
1. **ãƒ‡ãƒ¼ã‚¿æ‹¡å¼µ**: ã‚ˆã‚Šå¤šãã®ä¿®ç¹•è¦ã‚µãƒ³ãƒ—ãƒ«åé›†
2. **ç‰¹å¾´é‡è¿½åŠ **: ç”»åƒãƒ‡ãƒ¼ã‚¿ã€åœ°ç†çš„è¦å› 
3. **ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«**: è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã®çµ„ã¿åˆã‚ã›

### **é‹ç”¨æ”¹å–„ç­–**
1. **é–¾å€¤èª¿æ•´**: Precision/Recall ãƒãƒ©ãƒ³ã‚¹æœ€é©åŒ–
2. **ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜çµ±åˆ**: å°‚é–€å®¶ãƒ«ãƒ¼ãƒ«ã¨ã®èåˆ
3. **ç¶™ç¶šå­¦ç¿’**: æ–°ãƒ‡ãƒ¼ã‚¿ã§ã®å®šæœŸå†è¨“ç·´

---

## ğŸ’¡ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

| å„ªå…ˆåº¦ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | æ‰€è¦æ™‚é–“ |
|-------|----------|---------|
| ğŸ”¥ é«˜ | EBMè§£é‡ˆæ€§åˆ†æå®Ÿè¡Œ | 30åˆ† |
| ğŸ”¥ é«˜ | Repair-requirementæ”¹å–„å®Ÿé¨“ | 2æ™‚é–“ |
| ğŸ“Š ä¸­ | APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä½œæˆ | 1æ—¥ |
| ğŸš€ ä¸­ | Webã‚¢ãƒ—ãƒª ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ— | 3æ—¥ |

---

**ğŸ‰ ã“ã‚Œã§HealthLevelåˆ†é¡MVPã®å®Ÿè¡ŒãŒå®Œäº†ã§ã™ï¼**

**å›°ã£ãŸæ™‚ã¯**: README_v0-2.mdã®è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---
*Last Updated: 2025å¹´10æœˆ3æ—¥*